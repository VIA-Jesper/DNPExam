@page "/view"
@using xxxWeb.Data
@inject ApiService ApiService


<h3>View</h3>
<hr/>
<br />

<button class="btn btn-primary" @onclick="LoadData">Click to load</button>



<table class="table table-striped">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Type</th>
        <th scope="col">Height</th>
        <th scope="col">Radius</th>
        <th scope="col">Volume</th>
    </tr>
    </thead>

    @if (resultList.Count != 0)
    {
        <tbody>
        @foreach (var result in resultList)
        {
            <tr>
                <th scope="row">@result</th>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        }
        </tbody>

    }
    else
    {
        <p>No data has been loaded...</p>
    }


        
</table>


@code {

    private List<double> resultList = new List<double>();


    private async void LoadData()
    {
        try
        {
            resultList = await ApiService.GetAll();
            StateHasChanged();

        }
        catch (Exception e)
        {
            Console.WriteLine(e);
            throw;
        }

    }

}